(function(n){var h={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:d,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:d,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:d,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};h._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;h._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;h.def=l(h.def).replace("label",h._label).replace("title",h._title).getRegex();h.bullet=/(?:[*+-]|\d+\.)/;h.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/;h.item=l(h.item,"gm").replace(/bull/g,h.bullet).getRegex();h.list=l(h.list).replace(/bull/g,h.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+h.def.source+")").getRegex();h._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";h._comment=/<!--(?!-?>)[\s\S]*?-->/;h.html=l(h.html,"i").replace("comment",h._comment).replace("tag",h._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();h.paragraph=l(h.paragraph).replace("hr",h.hr).replace("heading",h.heading).replace("lheading",h.lheading).replace("tag",h._tag).getRegex();h.blockquote=l(h.blockquote).replace("paragraph",h.paragraph).getRegex();h.normal=f({},h);h.gfm=f({},h.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/});h.gfm.paragraph=l(h.paragraph).replace("(?!","(?!"+h.gfm.fences.source.replace("\\1","\\2")+"|"+h.list.source.replace("\\1","\\3")+"|").getRegex();h.tables=f({},h.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/});h.pedantic=f({},h.normal,{html:l("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",h._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/});function g(s){this.tokens=[];this.tokens.links={};this.options=s||k.defaults;this.rules=h.normal;if(this.options.pedantic){this.rules=h.pedantic}else{if(this.options.gfm){if(this.options.tables){this.rules=h.tables}else{this.rules=h.gfm}}}}g.rules=h;g.lex=function(u,s){var t=new g(s);return t.lex(u)};g.prototype.lex=function(s){s=s.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(s,true)};g.prototype.token=function(t,C){t=t.replace(/^ +$/gm,"");var z,x,E,B,D,F,s,y,G,v,u,w,A;while(t){if(E=this.rules.newline.exec(t)){t=t.substring(E[0].length);if(E[0].length>1){this.tokens.push({type:"space"})}}if(E=this.rules.code.exec(t)){t=t.substring(E[0].length);E=E[0].replace(/^ {4}/gm,"");this.tokens.push({type:"code",text:!this.options.pedantic?E.replace(/\n+$/,""):E});continue}if(E=this.rules.fences.exec(t)){t=t.substring(E[0].length);this.tokens.push({type:"code",lang:E[2],text:E[3]||""});continue}if(E=this.rules.heading.exec(t)){t=t.substring(E[0].length);this.tokens.push({type:"heading",depth:E[1].length,text:E[2]});continue}if(C&&(E=this.rules.nptable.exec(t))){F={type:"table",header:q(E[1].replace(/^ *| *\| *$/g,"")),align:E[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:E[3]?E[3].replace(/\n$/,"").split("\n"):[]};if(F.header.length===F.align.length){t=t.substring(E[0].length);for(y=0;y<F.align.length;y++){if(/^ *-+: *$/.test(F.align[y])){F.align[y]="right"}else{if(/^ *:-+: *$/.test(F.align[y])){F.align[y]="center"}else{if(/^ *:-+ *$/.test(F.align[y])){F.align[y]="left"}else{F.align[y]=null}}}}for(y=0;y<F.cells.length;y++){F.cells[y]=q(F.cells[y],F.header.length)}this.tokens.push(F);continue}}if(E=this.rules.hr.exec(t)){t=t.substring(E[0].length);this.tokens.push({type:"hr"});continue}if(E=this.rules.blockquote.exec(t)){t=t.substring(E[0].length);this.tokens.push({type:"blockquote_start"});E=E[0].replace(/^ *> ?/gm,"");this.token(E,C);this.tokens.push({type:"blockquote_end"});continue}if(E=this.rules.list.exec(t)){t=t.substring(E[0].length);B=E[2];u=B.length>1;this.tokens.push({type:"list_start",ordered:u,start:u?+B:""});E=E[0].match(this.rules.item);z=false;v=E.length;y=0;for(;y<v;y++){F=E[y];s=F.length;F=F.replace(/^ *([*+-]|\d+\.) +/,"");if(~F.indexOf("\n ")){s-=F.length;F=!this.options.pedantic?F.replace(new RegExp("^ {1,"+s+"}","gm"),""):F.replace(/^ {1,4}/gm,"")}if(this.options.smartLists&&y!==v-1){D=h.bullet.exec(E[y+1])[0];if(B!==D&&!(B.length>1&&D.length>1)){t=E.slice(y+1).join("\n")+t;y=v-1}}x=z||/\n\n(?!\s*$)/.test(F);if(y!==v-1){z=F.charAt(F.length-1)==="\n";if(!x){x=z}}w=/^\[[ xX]\] /.test(F);A=undefined;if(w){A=F[1]!==" ";F=F.replace(/^\[[ xX]\] +/,"")}this.tokens.push({type:x?"loose_item_start":"list_item_start",task:w,checked:A});this.token(F,false);this.tokens.push({type:"list_item_end"})}this.tokens.push({type:"list_end"});continue}if(E=this.rules.html.exec(t)){t=t.substring(E[0].length);this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(E[1]==="pre"||E[1]==="script"||E[1]==="style"),text:E[0]});continue}if(C&&(E=this.rules.def.exec(t))){t=t.substring(E[0].length);if(E[3]){E[3]=E[3].substring(1,E[3].length-1)}G=E[1].toLowerCase().replace(/\s+/g," ");if(!this.tokens.links[G]){this.tokens.links[G]={href:E[2],title:E[3]}}continue}if(C&&(E=this.rules.table.exec(t))){F={type:"table",header:q(E[1].replace(/^ *| *\| *$/g,"")),align:E[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:E[3]?E[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]};if(F.header.length===F.align.length){t=t.substring(E[0].length);for(y=0;y<F.align.length;y++){if(/^ *-+: *$/.test(F.align[y])){F.align[y]="right"}else{if(/^ *:-+: *$/.test(F.align[y])){F.align[y]="center"}else{if(/^ *:-+ *$/.test(F.align[y])){F.align[y]="left"}else{F.align[y]=null}}}}for(y=0;y<F.cells.length;y++){F.cells[y]=q(F.cells[y].replace(/^ *\| *| *\| *$/g,""),F.header.length)}this.tokens.push(F);continue}}if(E=this.rules.lheading.exec(t)){t=t.substring(E[0].length);this.tokens.push({type:"heading",depth:E[2]==="="?1:2,text:E[1]});continue}if(C&&(E=this.rules.paragraph.exec(t))){t=t.substring(E[0].length);this.tokens.push({type:"paragraph",text:E[1].charAt(E[1].length-1)==="\n"?E[1].slice(0,-1):E[1]});continue}if(E=this.rules.text.exec(t)){t=t.substring(E[0].length);this.tokens.push({type:"text",text:E[0]});continue}if(t){throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}}return this.tokens};var e={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:d,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)|^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)/,em:/^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*][\s\S]*?[^\s])\*(?!\*)|^_([^\s_])_(?!_)|^\*([^\s*])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:d,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};e._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;e._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;e._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;e.autolink=l(e.autolink).replace("scheme",e._scheme).replace("email",e._email).getRegex();e._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;e.tag=l(e.tag).replace("comment",h._comment).replace("attribute",e._attribute).getRegex();e._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/;e._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f()\\]*\)|[^\s\x00-\x1f()\\])*?)/;e._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;e.link=l(e.link).replace("label",e._label).replace("href",e._href).replace("title",e._title).getRegex();e.reflink=l(e.reflink).replace("label",e._label).getRegex();e.normal=f({},e);e.pedantic=f({},e.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:l(/^!?\[(label)\]\((.*?)\)/).replace("label",e._label).getRegex(),reflink:l(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",e._label).getRegex()});e.gfm=f({},e.normal,{escape:l(e.escape).replace("])","~|])").getRegex(),url:l(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",e._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(e.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()});e.breaks=f({},e.gfm,{br:l(e.br).replace("{2,}","*").getRegex(),text:l(e.gfm.text).replace("{2,}","*").getRegex()});function p(s,t){this.options=t||k.defaults;this.links=s;this.rules=e.normal;this.renderer=this.options.renderer||new o();this.renderer.options=this.options;if(!this.links){throw new Error("Tokens array requires a `links` property.")}if(this.options.pedantic){this.rules=e.pedantic}else{if(this.options.gfm){if(this.options.breaks){this.rules=e.breaks}else{this.rules=e.gfm}}}}p.rules=e;p.output=function(v,s,t){var u=new p(s,t);return u.output(v)};p.prototype.output=function(y){var t="",v,x,s,w,u;while(y){if(u=this.rules.escape.exec(y)){y=y.substring(u[0].length);t+=u[1];continue}if(u=this.rules.autolink.exec(y)){y=y.substring(u[0].length);if(u[2]==="@"){x=m(this.mangle(u[1]));s="mailto:"+x}else{x=m(u[1]);s=x}t+=this.renderer.link(s,null,x);continue}if(!this.inLink&&(u=this.rules.url.exec(y))){u[0]=this.rules._backpedal.exec(u[0])[0];y=y.substring(u[0].length);if(u[2]==="@"){x=m(u[0]);s="mailto:"+x}else{x=m(u[0]);if(u[1]==="www."){s="http://"+x}else{s=x}}t+=this.renderer.link(s,null,x);continue}if(u=this.rules.tag.exec(y)){if(!this.inLink&&/^<a /i.test(u[0])){this.inLink=true}else{if(this.inLink&&/^<\/a>/i.test(u[0])){this.inLink=false}}y=y.substring(u[0].length);t+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):m(u[0]):u[0];continue}if(u=this.rules.link.exec(y)){y=y.substring(u[0].length);this.inLink=true;s=u[2];if(this.options.pedantic){v=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);if(v){s=v[1];w=v[3]}else{w=""}}else{w=u[3]?u[3].slice(1,-1):""}s=s.trim().replace(/^<([\s\S]*)>$/,"$1");t+=this.outputLink(u,{href:p.escapes(s),title:p.escapes(w)});this.inLink=false;continue}if((u=this.rules.reflink.exec(y))||(u=this.rules.nolink.exec(y))){y=y.substring(u[0].length);v=(u[2]||u[1]).replace(/\s+/g," ");v=this.links[v.toLowerCase()];if(!v||!v.href){t+=u[0].charAt(0);y=u[0].substring(1)+y;continue}this.inLink=true;t+=this.outputLink(u,v);this.inLink=false;continue}if(u=this.rules.strong.exec(y)){y=y.substring(u[0].length);t+=this.renderer.strong(this.output(u[4]||u[3]||u[2]||u[1]));continue}if(u=this.rules.em.exec(y)){y=y.substring(u[0].length);t+=this.renderer.em(this.output(u[6]||u[5]||u[4]||u[3]||u[2]||u[1]));continue}if(u=this.rules.code.exec(y)){y=y.substring(u[0].length);t+=this.renderer.codespan(m(u[2].trim(),true));continue}if(u=this.rules.br.exec(y)){y=y.substring(u[0].length);t+=this.renderer.br();continue}if(u=this.rules.del.exec(y)){y=y.substring(u[0].length);t+=this.renderer.del(this.output(u[1]));continue}if(u=this.rules.text.exec(y)){y=y.substring(u[0].length);t+=this.renderer.text(m(this.smartypants(u[0])));continue}if(y){throw new Error("Infinite loop on byte: "+y.charCodeAt(0))}}return t};p.escapes=function(s){return s?s.replace(p.rules._escapes,"$1"):s};p.prototype.outputLink=function(t,u){var s=u.href,v=u.title?m(u.title):null;return t[0].charAt(0)!=="!"?this.renderer.link(s,v,this.output(t[1])):this.renderer.image(s,v,m(t[1]))};p.prototype.smartypants=function(s){if(!this.options.smartypants){return s}return s.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")};p.prototype.mangle=function(w){if(!this.options.mangle){return w}var t="",s=w.length,u=0,v;for(;u<s;u++){v=w.charCodeAt(u);if(Math.random()>0.5){v="x"+v.toString(16)}t+="&#"+v+";"}return t};function o(s){this.options=s||k.defaults}o.prototype.code=function(t,v,u){if(this.options.highlight){var s=this.options.highlight(t,v);if(s!=null&&s!==t){u=true;t=s}}if(!v){return"<pre><code>"+(u?t:m(t,true))+"</code></pre>"}return'<pre><code class="'+this.options.langPrefix+m(v,true)+'">'+(u?t:m(t,true))+"</code></pre>\n"};o.prototype.blockquote=function(s){return"<blockquote>\n"+s+"</blockquote>\n"};o.prototype.html=function(s){return s};o.prototype.heading=function(t,u,s){if(this.options.headerIds){return"<h"+u+' id="'+this.options.headerPrefix+s.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+u+">\n"}return"<h"+u+">"+t+"</h"+u+">\n"};o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"};o.prototype.list=function(s,t,w){var u=t?"ol":"ul",v=(t&&w!==1)?(' start="'+w+'"'):"";return"<"+u+v+">\n"+s+"</"+u+">\n"};o.prototype.listitem=function(s){return"<li>"+s+"</li>\n"};o.prototype.checkbox=function(s){return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "};o.prototype.paragraph=function(s){return"<p>"+s+"</p>\n"};o.prototype.table=function(t,s){if(s){s="<tbody>"+s+"</tbody>"}return"<table>\n<thead>\n"+t+"</thead>\n"+s+"</table>\n"};o.prototype.tablerow=function(s){return"<tr>\n"+s+"</tr>\n"};o.prototype.tablecell=function(v,t){var u=t.header?"th":"td";var s=t.align?"<"+u+' align="'+t.align+'">':"<"+u+">";return s+v+"</"+u+">\n"};o.prototype.strong=function(s){return"<strong>"+s+"</strong>"};o.prototype.em=function(s){return"<em>"+s+"</em>"};o.prototype.codespan=function(s){return"<code>"+s+"</code>"};o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"};o.prototype.del=function(s){return"<del>"+s+"</del>"};o.prototype.link=function(s,x,w){if(this.options.sanitize){try{var u=decodeURIComponent(i(s)).replace(/[^\w:]/g,"").toLowerCase()}catch(v){return w}if(u.indexOf("javascript:")===0||u.indexOf("vbscript:")===0||u.indexOf("data:")===0){return w}}if(this.options.baseUrl&&!r.test(s)){s=b(this.options.baseUrl,s)}try{s=encodeURI(s).replace(/%25/g,"%")}catch(v){return w}var t='<a href="'+m(s)+'"';if(x){t+=' title="'+x+'"'}t+=">"+w+"</a>";return t};o.prototype.image=function(s,v,u){if(this.options.baseUrl&&!r.test(s)){s=b(this.options.baseUrl,s)}var t='<img src="'+s+'" alt="'+u+'"';if(v){t+=' title="'+v+'"'}t+=this.options.xhtml?"/>":">";return t};o.prototype.text=function(s){return s};function j(){}j.prototype.strong=j.prototype.em=j.prototype.codespan=j.prototype.del=j.prototype.text=function(s){return s};j.prototype.link=j.prototype.image=function(s,u,t){return""+t};j.prototype.br=function(){return""};function a(s){this.tokens=[];this.token=null;this.options=s||k.defaults;this.options.renderer=this.options.renderer||new o();this.renderer=this.options.renderer;this.renderer.options=this.options}a.parse=function(t,s){var u=new a(s);return u.parse(t)};a.prototype.parse=function(t){this.inline=new p(t.links,this.options);this.inlineText=new p(t.links,f({},this.options,{renderer:new j()}));this.tokens=t.reverse();var s="";while(this.next()){s+=this.tok()}return s};a.prototype.next=function(){return this.token=this.tokens.pop()};a.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};a.prototype.parseText=function(){var s=this.token.text;while(this.peek().type==="text"){s+="\n"+this.next().text}return this.inline.output(s)};a.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,i(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var z="",t="",w,x,s,v;s="";for(w=0;w<this.token.header.length;w++){s+=this.renderer.tablecell(this.inline.output(this.token.header[w]),{header:true,align:this.token.align[w]})}z+=this.renderer.tablerow(s);for(w=0;w<this.token.cells.length;w++){x=this.token.cells[w];s="";for(v=0;v<x.length;v++){s+=this.renderer.tablecell(this.inline.output(x[v]),{header:false,align:this.token.align[v]})}t+=this.renderer.tablerow(s)}return this.renderer.table(z,t);case"blockquote_start":t="";while(this.next().type!=="blockquote_end"){t+=this.tok()}return this.renderer.blockquote(t);case"list_start":t="";var u=this.token.ordered,y=this.token.start;while(this.next().type!=="list_end"){t+=this.tok()}return this.renderer.list(t,u,y);case"list_item_start":t="";if(this.token.task){t+=this.renderer.checkbox(this.token.checked)}while(this.next().type!=="list_item_end"){t+=this.token.type==="text"?this.parseText():this.tok()}return this.renderer.listitem(t);case"loose_item_start":t="";while(this.next().type!=="list_item_end"){t+=this.tok()}return this.renderer.listitem(t);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};function m(s,t){return s.replace(!t?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function i(s){return s.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,function(t,u){u=u.toLowerCase();if(u==="colon"){return":"}if(u.charAt(0)==="#"){return u.charAt(1)==="x"?String.fromCharCode(parseInt(u.substring(2),16)):String.fromCharCode(+u.substring(1))}return""})}function l(t,s){t=t.source||t;s=s||"";return{replace:function(u,v){v=v.source||v;v=v.replace(/(^|[^\[])\^/g,"$1");t=t.replace(u,v);return this},getRegex:function(){return new RegExp(t,s)}}}function b(t,s){if(!c[" "+t]){if(/^[^:]+:\/*[^/]*$/.test(t)){c[" "+t]=t+"/"}else{c[" "+t]=t.replace(/[^/]*$/,"")}}t=c[" "+t];if(s.slice(0,2)==="//"){return t.replace(/:[\s\S]*/,":")+s}else{if(s.charAt(0)==="/"){return t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+s}else{return t+s}}}var c={};var r=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function d(){}d.exec=d;function f(v){var t=1,u,s;for(;t<arguments.length;t++){u=arguments[t];for(s in u){if(Object.prototype.hasOwnProperty.call(u,s)){v[s]=u[s]}}}return v}function q(s,v){var t=s.replace(/([^\\])\|/g,"$1 |").split(/ +\| */),u=0;if(t.length>v){t.splice(v)}else{while(t.length<v){t.push("")}}for(;u<t.length;u++){t[u]=t[u].replace(/\\\|/g,"|")}return t}function k(s,u,A){if(typeof s==="undefined"||s===null){throw new Error("marked(): input parameter is undefined or null")}if(typeof s!=="string"){throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected")}if(A||typeof u==="function"){if(!A){A=u;u=null}u=f({},k.defaults,u||{});var v=u.highlight,z,t,x=0;try{z=g.lex(s,u)}catch(y){return A(y)}t=z.length;var w=function(C){if(C){u.highlight=v;return A(C)}var B;try{B=a.parse(z,u)}catch(D){C=D}u.highlight=v;return C?A(C):A(null,B)};if(!v||v.length<3){return w()}delete u.highlight;if(!t){return w()}for(;x<z.length;x++){(function(B){if(B.type!=="code"){return --t||w()}return v(B.text,B.lang,function(D,C){if(D){return w(D)}if(C==null||C===B.text){return --t||w()}B.text=C;B.escaped=true;--t||w()})})(z[x])}return}try{if(u){u=f({},k.defaults,u)}return a.parse(g.lex(s,u),u)}catch(y){y.message+="\nPlease report this to https://github.com/markedjs/marked.";if((u||k.defaults).silent){return"<p>An error occurred:</p><pre>"+m(y.message+"",true)+"</pre>"}throw y}}k.options=k.setOptions=function(s){f(k.defaults,s);return k};k.getDefaults=function(){return{baseUrl:null,breaks:false,gfm:true,headerIds:true,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:true,pedantic:false,renderer:new o(),sanitize:false,sanitizer:null,silent:false,smartLists:false,smartypants:false,tables:true,xhtml:false}};k.defaults=k.getDefaults();k.Parser=a;k.parser=a.parse;k.Renderer=o;k.TextRenderer=j;k.Lexer=g;k.lexer=g.lex;k.InlineLexer=p;k.inlineLexer=p.output;k.parse=k;if(typeof module!=="undefined"&&typeof exports==="object"){module.exports=k}else{if(typeof define==="function"&&define.amd){define(function(){return k})}else{n.marked=k}}})(this||(typeof window!=="undefined"?window:global));